
<!doctype html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="Server224/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31">
    
    
      
        <title>Server20.04 - Dokument</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ubuntu-2004" class="md-skip">
          Zum Inhalt
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Kopfzeile">
    <a href=".." title="Dokument" class="md-header__button md-logo" aria-label="Dokument" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Dokument
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Server20.04
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Suche" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Suche">
        
        <button type="reset" class="md-search__icon md-icon" title="Zurücksetzen" aria-label="Zurücksetzen" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Suche wird initialisiert
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Dokument" class="md-nav__button md-logo" aria-label="Dokument" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Dokument
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Starseite
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Server
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Server
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Server20.04
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Server20.04
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#software-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Software installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodejs-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Nodejs Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-von-postgresql-postgis" class="md-nav__link">
    <span class="md-ellipsis">
      Installation von PostgreSQL / PostGIS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-von-osm2pgsql-und-osmosis" class="md-nav__link">
    <span class="md-ellipsis">
      Installation von osm2pgsql und osmosis
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-von-mapnik" class="md-nav__link">
    <span class="md-ellipsis">
      Installation von Mapnik
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-von-mod_tile-und-renderd" class="md-nav__link">
    <span class="md-ellipsis">
      Installation von mod_tile und renderd
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kompilieren-sie-den-mod_tile-quellcode" class="md-nav__link">
    <span class="md-ellipsis">
      Kompilieren Sie den mod_tile-Quellcode:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#konfiguration-des-stylesheets" class="md-nav__link">
    <span class="md-ellipsis">
      Konfiguration des Stylesheets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#daten-laden" class="md-nav__link">
    <span class="md-ellipsis">
      Daten laden
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#erstellen-von-indizes" class="md-nav__link">
    <span class="md-ellipsis">
      Erstellen von Indizes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shapefile-download" class="md-nav__link">
    <span class="md-ellipsis">
      Shapefile-Download
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schriftarten" class="md-nav__link">
    <span class="md-ellipsis">
      Schriftarten
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#einrichten-ihres-webservers" class="md-nav__link">
    <span class="md-ellipsis">
      Einrichten Ihres Webservers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Einrichten Ihres Webservers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#konfigurieren-von-renderd" class="md-nav__link">
    <span class="md-ellipsis">
      Konfigurieren von renderd
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apache-konfigurieren" class="md-nav__link">
    <span class="md-ellipsis">
      Apache konfigurieren
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#erstmaliges-ausfuhren-von-renderd" class="md-nav__link">
    <span class="md-ellipsis">
      Erstmaliges Ausführen von renderd
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#renderd-im-hintergrund-ausfuhren" class="md-nav__link">
    <span class="md-ellipsis">
      Renderd im Hintergrund ausführen
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apache-port-andern" class="md-nav__link">
    <span class="md-ellipsis">
      Apache port ändern
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ahrensburgcity-installieren" class="md-nav__link">
    <span class="md-ellipsis">
      ahrensburg.city installieren
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-thorsten" class="md-nav__link">
    <span class="md-ellipsis">
      ssh thorsten
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#herunterladen-der-daten" class="md-nav__link">
    <span class="md-ellipsis">
      Herunterladen der Daten
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Server224/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Server22.04
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Server244/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Server24.04
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Tomcat9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tomcat9
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Server_Mieten/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Server Mieten
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../IDE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IDE
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mediawiki
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Mediawiki
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CMS/Mediawiki/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installieren
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CMS/Mediawiki/Backup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CMS/Mediawiki/Wiederherstellen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wiedererstellen
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Static Site Generator
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Static Site Generator
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SSG/Allgemeine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Allgemein Liste
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Code-Dokumentationen
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Code-Dokumentationen
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SSG/mkdocs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mkdocs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SSG/sphinx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sphinx
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Frameworks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Frameworks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SSG/next.js/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    next.js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SSG/astro.build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    astro.build
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SSG/github_page/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Github-pages
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Pandoc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pandoc
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Analysetool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Analysetool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Benchmark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Benchmark
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Impressum/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Impressum
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Datenschutz/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datenschutz
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#software-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Software installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodejs-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Nodejs Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-von-postgresql-postgis" class="md-nav__link">
    <span class="md-ellipsis">
      Installation von PostgreSQL / PostGIS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-von-osm2pgsql-und-osmosis" class="md-nav__link">
    <span class="md-ellipsis">
      Installation von osm2pgsql und osmosis
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-von-mapnik" class="md-nav__link">
    <span class="md-ellipsis">
      Installation von Mapnik
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-von-mod_tile-und-renderd" class="md-nav__link">
    <span class="md-ellipsis">
      Installation von mod_tile und renderd
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kompilieren-sie-den-mod_tile-quellcode" class="md-nav__link">
    <span class="md-ellipsis">
      Kompilieren Sie den mod_tile-Quellcode:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#konfiguration-des-stylesheets" class="md-nav__link">
    <span class="md-ellipsis">
      Konfiguration des Stylesheets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#daten-laden" class="md-nav__link">
    <span class="md-ellipsis">
      Daten laden
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#erstellen-von-indizes" class="md-nav__link">
    <span class="md-ellipsis">
      Erstellen von Indizes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shapefile-download" class="md-nav__link">
    <span class="md-ellipsis">
      Shapefile-Download
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schriftarten" class="md-nav__link">
    <span class="md-ellipsis">
      Schriftarten
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#einrichten-ihres-webservers" class="md-nav__link">
    <span class="md-ellipsis">
      Einrichten Ihres Webservers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Einrichten Ihres Webservers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#konfigurieren-von-renderd" class="md-nav__link">
    <span class="md-ellipsis">
      Konfigurieren von renderd
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apache-konfigurieren" class="md-nav__link">
    <span class="md-ellipsis">
      Apache konfigurieren
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#erstmaliges-ausfuhren-von-renderd" class="md-nav__link">
    <span class="md-ellipsis">
      Erstmaliges Ausführen von renderd
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#renderd-im-hintergrund-ausfuhren" class="md-nav__link">
    <span class="md-ellipsis">
      Renderd im Hintergrund ausführen
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apache-port-andern" class="md-nav__link">
    <span class="md-ellipsis">
      Apache port ändern
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ahrensburgcity-installieren" class="md-nav__link">
    <span class="md-ellipsis">
      ahrensburg.city installieren
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-thorsten" class="md-nav__link">
    <span class="md-ellipsis">
      ssh thorsten
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#herunterladen-der-daten" class="md-nav__link">
    <span class="md-ellipsis">
      Herunterladen der Daten
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="ubuntu-2004">Ubuntu 20.04</h1>
<p>Diese Seite beschreibt, wie man alle notwendige Software installiert, einrichtet und konfiguriert, um einen eigenen Kachelserver zu betreiben. Diese Schritt-für-Schritt-Anleitung wurde für Ubuntu Linux 20.04 LTS (Focal Fossa) geschrieben und im Mai 2020 getestet.</p>
<h2 id="software-installation">Software installation</h2>
<p>Der OSM-Kachelserver-Stack ist eine Sammlung von Programmen und Bibliotheken, die zusammenarbeiten, um einen Kachelserver zu erstellen. Wie so oft bei OpenStreetMap gibt es viele Wege, dieses Ziel zu erreichen, und fast alle Komponenten haben Alternativen, die verschiedene spezifische Vor- und Nachteile haben. Dieses Tutorial beschreibt die gängigste Version, die der auf den Haupt-Kachelservern von OpenStreetMap.org ähnlich ist.</p>
<p>Er besteht aus 5 Hauptkomponenten: mod_tile, renderd, mapnik, osm2pgsql und einer PostgreSQL/PostGIS-Datenbank. Mod_tile ist ein Apache-Modul, das zwischengespeicherte Kacheln bereitstellt und entscheidet, welche Kacheln neu gerendert werden müssen - entweder weil sie noch nicht zwischengespeichert sind oder weil sie veraltet sind. Renderd bietet ein Prioritätswarteschlangensystem für verschiedene Arten von Anfragen, um die Last von Renderanfragen zu verwalten und auszugleichen. Mapnik ist die Softwarebibliothek, die das eigentliche Rendern durchführt und von renderd verwendet wird.</p>
<p>Beachten Sie, dass diese Anweisungen gegen einen neu installierten Ubuntu 20.04 Server geschrieben und getestet wurden. Wenn Sie bereits andere Versionen einiger Software installiert haben (vielleicht haben Sie von einer früheren Ubuntu-Version aktualisiert, oder Sie haben einige PPAs zum Laden eingerichtet), dann müssen Sie möglicherweise einige Anpassungen vornehmen.</p>
<p>Dieser Leitfaden geht davon aus, dass Sie alles von einem Nicht-Root-Benutzer über "sudo" ausführen. Der standardmäßig verwendete Nicht-Root-Benutzername ist unten "renderaccount" - Sie können diesen lokal erstellen, wenn Sie möchten, oder Skripte bearbeiten, um auf einen anderen Benutzernamen zu verweisen, wenn Sie möchten. Wenn Sie den Benutzer "renderaccount" erstellen, müssen Sie ihn zur Gruppe der Benutzer hinzufügen, die zu Root sudo können. Von Ihrem normalen Nicht-Root-Benutzerkonto aus:</p>
<pre><code class="language-bash">sudo -i
sudo adduser renderaccount
usermod -aG sudo renderaccount
exit
exit
ssh renderaccount@yourserver
sudo apt-get update 
sudo apt-get upgrade
sudo apt-get install curl
</code></pre>
<h2 id="nodejs-installation">Nodejs Installation</h2>
<ul>
<li><a href="https://github.com/nodesource/distributions">Anleitung</a></li>
</ul>
<p>Um diese Komponenten zu erstellen, müssen zunächst eine Vielzahl von Abhängigkeiten installiert werden:</p>
<pre><code class="language-bash">sudo apt install libboost-all-dev git tar unzip wget bzip2 build-essential autoconf libtool libxml2-dev libgeos-dev libgeos++-dev libpq-dev libbz2-dev libproj-dev munin-node munin protobuf-c-compiler libfreetype6-dev libtiff5-dev libicu-dev libgdal-dev libcairo2-dev libcairomm-1.0-dev apache2 apache2-dev libagg-dev liblua5.2-dev ttf-unifont lua5.1 liblua5.1-0-dev
</code></pre>
<p>Stimmen Sie der Installation zu. Dies wird eine Weile dauern, also gehen Sie und trinken Sie eine Tasse Tee. Diese Liste enthält verschiedene Dienstprogramme und Bibliotheken, den Apache-Webserver und "carto", das zur Umwandlung von Carto-CSS-Stylesheets in ein Format verwendet wird, das der Kartenrenderer "mapnik" verstehen kann. Wenn das abgeschlossen ist, installieren Sie die zweite Reihe von Voraussetzungen:</p>
<h2 id="installation-von-postgresql-postgis">Installation von PostgreSQL / PostGIS</h2>
<p>Auf Ubuntu gibt es vorgepackte Versionen von sowohl PostGIS als auch PostgreSQL, diese können einfach über den Ubuntu-Paketmanager installiert werden.</p>
<pre><code class="language-bash">
sudo apt install postgresql postgresql-contrib postgis postgresql-12-postgis-3 postgresql-12-postgis-3-scripts osmosis

</code></pre>
<p>Hier ist "postgresql" die Datenbank, in der wir Kartendaten speichern, und "postgis" fügt ihr zusätzliche grafische Unterstützung hinzu. Stimmen Sie erneut zu, um die Installation durchzuführen.</p>
<p>Jetzt müssen Sie eine PostGIS-Datenbank erstellen. Die Standardwerte verschiedener Programme gehen davon aus, dass die Datenbank "gis" heißt und wir werden in diesem Tutorial die gleiche Konvention verwenden, obwohl dies nicht notwendig ist. Ersetzen Sie Ihren Benutzernamen durch "renderaccount", wo er unten verwendet wird. Dies sollte der Benutzername sein, der Karten mit Mapnik rendert.</p>
<pre><code class="language-bash">sudo -u postgres -i
createuser renderaccount # answer yes for superuser (although this isn't strictly necessary)
createdb -E UTF8 -O renderaccount gis
psql
\c gis
CREATE EXTENSION postgis;
CREATE EXTENSION hstore;
ALTER TABLE geometry_columns OWNER TO renderaccount;
ALTER TABLE spatial_ref_sys OWNER TO renderaccount;
\q
exit
</code></pre>
<h2 id="installation-von-osm2pgsql-und-osmosis">Installation von osm2pgsql und osmosis</h2>
<pre><code class="language-bash">sudo apt-get install osm2pgsql osmosis
</code></pre>
<h2 id="installation-von-mapnik">Installation von Mapnik</h2>
<pre><code class="language-bash">sudo apt install autoconf apache2-dev libtool libxml2-dev libbz2-dev libgeos-dev libgeos++-dev libproj-dev gdal-bin libmapnik-dev mapnik-utils python3-mapnik python3-psycopg2 python3-yaml

</code></pre>
<h2 id="installation-von-mod_tile-und-renderd">Installation von mod_tile und renderd</h2>
<p>Als nächstes installieren wir mod_tile und renderd. "mod_tile" ist ein Apache-Modul, das Anfragen nach Kacheln bearbeitet; "renderd" ist ein Daemon, der tatsächlich Kacheln rendert, wenn "mod_tile" sie anfordert. Wir verwenden den "switch2osm"-Zweig von https://github.com/SomeoneElseOSM/mod_tile, der selbst von https://github.com/openstreetmap/mod_tile abgezweigt ist, aber so modifiziert wurde, dass er Ubuntu 20.04 unterstützt, und mit ein paar anderen Änderungen, um auf einem Standard-Ubuntu-Server zu arbeiten, anstatt auf einem der OSM-Rendering-Server.</p>
<h2 id="kompilieren-sie-den-mod_tile-quellcode">Kompilieren Sie den mod_tile-Quellcode:</h2>
<pre><code class="language-bash">mkdir ~/src
cd ~/src
git clone -b switch2osm https://github.com/SomeoneElseOSM/mod_tile.git
cd mod_tile
./autogen.sh
</code></pre>
<p>(Das sollte mit "autoreconf: Verlassen des Verzeichnisses '.'" enden.)</p>
<pre><code class="language-bash">./configure
</code></pre>
<p>(Das sollte mit "config.status: erstelle Makefile" enden.)</p>
<pre><code class="language-bash">make
</code></pre>
<p>Beachten Sie, dass hier einige "beunruhigende" Nachrichten über den Bildschirm scrollen werden. Es sollte jedoch mit "make[1]: Verlassen des Verzeichnisses '/home/renderaccount/src/mod_tile'" enden.</p>
<pre><code class="language-bash">sudo make install
</code></pre>
<p>(Das sollte mit "make[1]: Verlassen des Verzeichnisses '/home/renderaccount/src/mod_tile'" enden.)</p>
<pre><code class="language-bash">sudo make install-mod_tile
</code></pre>
<p>(Das sollte mit "chmod 644 /usr/lib/apache2/modules/mod_tile.so" enden.)</p>
<pre><code class="language-bash">sudo ldconfig
</code></pre>
<p>(das sollte nichts zurückgeben)</p>
<h2 id="konfiguration-des-stylesheets">Konfiguration des Stylesheets</h2>
<p>Jetzt, da alle notwendige Software installiert ist, müssen Sie ein Stylesheet herunterladen und konfigurieren.</p>
<p>Der Stil, den wir hier verwenden, ist derjenige, der von der "Standard"-Karte auf der openstreetmap.org-Website verwendet wird. Er wird gewählt, weil er gut dokumentiert ist und überall auf der Welt funktionieren sollte (einschließlich an Orten mit nicht-lateinischen Ortsnamen). Es gibt jedoch ein paar Nachteile - es ist sehr viel ein Kompromiss, der global funktionieren soll, und es ist ziemlich kompliziert zu verstehen und zu modifizieren, falls Sie das tun müssen.</p>
<p>Die Heimat von "OpenStreetMap Carto" im Web ist https://github.com/gravitystorm/openstreetmap-carto/ und es hat seine eigenen Installationsanweisungen unter https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md, obwohl wir hier alles abdecken, was getan werden muss.</p>
<p>Hier gehen wir davon aus, dass wir die Details des Stylesheets in einem Verzeichnis unter "src" im Home-Verzeichnis des Benutzers "renderaccount" (oder welchen anderen Sie verwenden) speichern.</p>
<pre><code class="language-bash">cd ~/src
git clone https://github.com/gravitystorm/openstreetmap-carto
cd openstreetmap-carto
</code></pre>
<p>Als nächstes installieren wir eine geeignete Version des "carto"-Compilers.</p>
<pre><code class="language-bash">sudo npm install -g carto
carto -v
</code></pre>
<p>Das sollte eine Versionsnummer zurückgeben, die größer als 1.2.0 ist. Wenn das nicht der Fall ist, müssen Sie möglicherweise eine neuere Version von "carto" installieren. Wenn Sie das tun müssen, können Sie dies mit dem folgenden Befehl tun:
Dann konvertieren wir das Carto-Projekt in etwas, das Mapnik verstehen kann</p>
<pre><code class="language-bash">carto project.mml &gt; mapnik.xml
</code></pre>
<h2 id="daten-laden">Daten laden</h2>
<pre><code class="language-bash">mkdir ~/data
cd ~/data
wget https://download.geofabrik.de/europe/germany/schleswig-holstein-latest.osm.pbf
osmosis --read-pbf file=schleswig-holstein-latest.osm.pbf --bounding-box left=10.1141 right=10.3716 top=53.7136 bottom=53.6249 --write-pbf file=ahrensburg.pbf
osm2pgsql -d gis --create --slim  -G --hstore --tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua -C 2500 --number-processes 1 -S ~/src/openstreetmap-carto/openstreetmap-carto.style ~/data/ahrensburg.pbf
</code></pre>
<h2 id="erstellen-von-indizes">Erstellen von Indizes</h2>
<p>Seit Version v5.3.0 müssen einige zusätzliche Indizes nun manuell angewendet werden.</p>
<pre><code class="language-bash">cd ~/src/openstreetmap-carto/
psql -d gis -f indexes.sql
</code></pre>
<p>Es sollte 14 Mal mit "CREATE INDEX" antworten.</p>
<h2 id="shapefile-download">Shapefile-Download</h2>
<p>Obwohl die meisten Daten zur Erstellung der Karte direkt aus der oben heruntergeladenen OpenStreetMap-Datendatei stammen, werden immer noch einige Shapefiles für Dinge wie Ländergrenzen bei geringer Zoomstufe benötigt. Um diese herunterzuladen und zu indizieren:</p>
<pre><code class="language-bash">cd ~/src/openstreetmap-carto/
scripts/get-external-data.py
</code></pre>
<p>Dieser Prozess beinhaltet einen erheblichen Download und kann einige Zeit in Anspruch nehmen - während er läuft, wird nicht viel auf dem Bildschirm angezeigt. Tatsächlich wird ein "data"-Verzeichnis unter "openstreetmap-carto" gefüllt.</p>
<h2 id="schriftarten">Schriftarten</h2>
<p>In der Version v5.6.0 und höher von Carto müssen Schriftarten manuell installiert werden:</p>
<pre><code class="language-bash">cd ~/src/openstreetmap-carto/
scripts/get-fonts.sh
</code></pre>
<h2 id="einrichten-ihres-webservers">Einrichten Ihres Webservers</h2>
<h3 id="konfigurieren-von-renderd">Konfigurieren von renderd</h3>
<p>Die Konfigurationsdatei für "renderd" ist "/usr/local/etc/renderd.conf". Bearbeiten Sie diese mit einem Texteditor wie nano:</p>
<pre><code class="language-bash">sudo nano /usr/local/etc/renderd.conf
</code></pre>
<h2 id="apache-konfigurieren">Apache konfigurieren</h2>
<pre><code class="language-bash">sudo mkdir /var/lib/mod_tile
sudo chown renderaccount /var/lib/mod_tile

sudo mkdir /var/run/renderd
sudo chown renderaccount /var/run/renderd
</code></pre>
<p>Jetzt müssen wir Apache über "mod_tile" informieren, also mit nano (oder einem anderen Editor):</p>
<pre><code class="language-bash">sudo nano /etc/apache2/conf-available/mod_tile.conf
</code></pre>
<p>Fügen Sie die folgende Zeile in diese Datei ein:</p>
<pre><code class="language-bash">LoadModule tile_module /usr/lib/apache2/modules/mod_tile.so
</code></pre>
<p>und speichern Sie es, und führen Sie dann aus:</p>
<pre><code class="language-bash">sudo a2enconf mod_tile
</code></pre>
<p>Das wird Ihnen sagen, dass Sie "service apache2 reload" ausführen müssen, um die neue Konfiguration zu aktivieren; das werden wir noch nicht gleich tun.</p>
<p>Wir müssen jetzt Apache über "renderd" informieren. Mit nano (oder einem anderen Editor):</p>
<pre><code class="language-bash">sudo nano /etc/apache2/sites-available/000-default.conf
</code></pre>
<p>Fügen Sie das Folgende zwischen den Zeilen "ServerAdmin" und "DocumentRoot" ein:</p>
<pre><code class="language-bash">LoadTileConfigFile /usr/local/etc/renderd.conf
ModTileRenderdSocketName /var/run/renderd/renderd.sock
# Timeout before giving up for a tile to be rendered
ModTileRequestTimeout 0
# Timeout before giving up for a tile to be rendered that is otherwise missing
ModTileMissingRequestTimeout 30

</code></pre>
<p>und laden Sie Apache zweimal neu:</p>
<pre><code class="language-bash">sudo service apache2 reload
sudo service apache2 reload
</code></pre>
<p>(Ich vermute, dass es zweimal gemacht werden muss, weil Apache "verwirrt" wird, wenn es beim Laufen neu konfiguriert wird)</p>
<p>Wenn Sie einen Webbrowser auf: http://ihreserveripadresse/index.html richten, sollten Sie die "Es funktioniert!" Seite von Ubuntu / Apache bekommen.</p>
<p>(Wenn Sie nicht wissen, welche IP-Adresse zugewiesen wurde, können Sie wahrscheinlich "ifconfig" verwenden, um es herauszufinden - wenn die Netzwerkkonfiguration nicht zu kompliziert ist, wird es wahrscheinlich die "inet addr" sein, die nicht "127.0.0.1" ist). Wenn Sie einen Server bei einem Hosting-Anbieter verwenden, dann ist es wahrscheinlich, dass die interne Adresse Ihres Servers anders sein wird als die externe Adresse, die Ihnen zugewiesen wurde, aber diese externe IP-Adresse wird Ihnen bereits zugesandt worden sein und es wird wahrscheinlich diejenige sein, auf der Sie den Server derzeit zugreifen.</p>
<p>Beachten Sie, dass dies nur die "http" (Port 80) Seite ist - Sie müssen ein wenig mehr Apache-Konfiguration machen, wenn Sie https aktivieren wollen, aber das ist außerhalb des Rahmens dieser Anweisungen. Wenn Sie jedoch "Let's Encrypt" verwenden, um Zertifikate auszustellen, dann kann der Prozess der Einrichtung davon auch die Apache HTTPS-Seite konfigurieren.</p>
<h2 id="erstmaliges-ausfuhren-von-renderd">Erstmaliges Ausführen von renderd</h2>
<p>Als nächstes führen wir renderd aus, um einige Kacheln zu rendern. Zunächst führen wir es im Vordergrund aus, damit wir Fehler sofort sehen können:</p>
<pre><code class="language-bash">renderd -f -c /usr/local/etc/renderd.conf
</code></pre>
<p>Hier können einige Warnungen auftreten - machen Sie sich darüber vorerst keine Sorgen. Sie sollten keine Fehler erhalten. Wenn doch, speichern Sie die vollständige Ausgabe in einem Pastebin und stellen Sie eine Frage zu dem Problem irgendwo wie help.openstreetmap.org (verlinken Sie auf das Pastebin - fügen Sie nicht den gesamten Text in die Frage ein).</p>
<p>Richten Sie einen Webbrowser auf: http://ihreserveripadresse/hot/0/0/0.png</p>
<p>Sie sollten eine Weltkarte in Ihrem Browser sehen und einige weitere Debug-Informationen auf der Kommandozeile, einschließlich "DEBUG: START TILE" und "DEBUG: DONE TILE". Ignorieren Sie jede "DEBUG: Failed to read cmd on fd" Nachricht - es ist kein Fehler. Wenn Sie kein Kachel erhalten und andere Fehler auftreten, speichern Sie erneut die vollständige Ausgabe in einem Pastebin und stellen Sie eine Frage zu dem Problem irgendwo wie help.openstreetmap.org.</p>
<p>Wenn das alles funktioniert, drücken Sie Strg-C, um den Rendering-Prozess im Vordergrund zu stoppen.</p>
<h2 id="renderd-im-hintergrund-ausfuhren">Renderd im Hintergrund ausführen</h2>
<p>Als nächstes richten wir "renderd" ein, um im Hintergrund zu laufen. Zuerst bearbeiten Sie die Datei "~/src/mod_tile/debian/renderd.init", so dass "RUNASUSER" auf das Nicht-Root-Konto eingestellt ist, das Sie zuvor verwendet haben, wie zum Beispiel "renderaccount", und kopieren Sie es dann in das Systemverzeichnis:</p>
<pre><code class="language-bash">nano ~/src/mod_tile/debian/renderd.init
sudo cp ~/src/mod_tile/debian/renderd.init /etc/init.d/renderd
sudo chmod u+x /etc/init.d/renderd
sudo cp ~/src/mod_tile/debian/renderd.service /lib/systemd/system/
</code></pre>
<p>Die Datei "renderd.service" ist eine "systemd"-Service-Datei. Die hier verwendete Version ruft lediglich alte init-Befehle auf. Um zu testen, ob der Startbefehl funktioniert:</p>
<pre><code class="language-bash">sudo /etc/init.d/renderd start
</code></pre>
<p>(Das sollte mit "[ ok ] Starten von renderd (über systemctl): renderd.service" antworten.)</p>
<p>Um es jedes Mal automatisch zu starten:</p>
<pre><code class="language-bash">sudo systemctl enable renderd
</code></pre>
<h2 id="apache-port-andern">Apache port ändern</h2>
<p>Wenn Sie Apache auf einem anderen Port als 80 laufen lassen möchten, können Sie dies tun, indem Sie die Datei "/etc/apache2/ports.conf" bearbeiten. Zum Beispiel, um es auf Port 8090 zu ändern:</p>
<pre><code class="language-bash">sudo nano /etc/apache2/ports.conf
</code></pre>
<p>Ändern Sie die Zeile "Listen 80" in "Listen 8090" und speichern Sie die Datei. Starten Sie dann Apache neu:</p>
<p>und sudo nano /etc/apache2/sites-available/000-default.conf</p>
<p>Ändern Sie die Zeile "Listen 80" in "Listen 8090" und speichern Sie die Datei. Starten Sie dann Apache neu:</p>
<pre><code class="language-bash">sudo /etc/init.d/apache2 restart
</code></pre>
<h2 id="ahrensburgcity-installieren">ahrensburg.city installieren</h2>
<pre><code class="language-bash">sudo apt install snapd
sudo apt-get install nginx
sudo rm /etc/nginx/sites-enabled/default
sudo systemctl stop nginx
sudo snap install --classic certbot
sudo ln -s /snap/bin/certbot /usr/bin/certbot
sudo systemctl stop nginx
sudo certbot certonly --standalone -d ahrensburg.city -d www.ahrensburg.city
sudo certbot certonly --standalone -d karte.ahrensburg.city

sudo nano /etc/nginx/conf.d/karte.conf
</code></pre>
<pre><code class="language-bash"> server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name karte.ahrensburg.city;
    ssl_certificate /etc/letsencrypt/live/karte.ahrensburg.city/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/karte.ahrensburg.city/privkey.pem;

   location / {
        proxy_pass http://localhost:8090;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
server {
    listen 80;
    listen [::]:80;
    server_name karte.ahrensburg.city;
    return 301 https://$host$request_uri;
}
</code></pre>
<pre><code class="language-bash">## Neuen Nutzer erstellen
```bash
sudo adduser thorsten
sudo usermod -aG sudo thorsten
exit
</code></pre>
<h2 id="ssh-thorsten">ssh thorsten</h2>
<pre><code class="language-bash">ssh thorsten@
cd $HOME
sudo -u postgres -i
createuser thorsten
createdb -E UTF8 -O thorsten thorsten
psql
\c thorsten
CREATE EXTENSION postgis;
CREATE EXTENSION hstore;
ALTER TABLE geometry_columns OWNER TO thorsten;
ALTER TABLE spatial_ref_sys OWNER TO thorsten;
## Passwort für den Benutzer postgres setzen
\password thorsten
\q
exit
</code></pre>
<h2 id="herunterladen-der-daten">Herunterladen der Daten</h2>
<pre><code class="language-bash">cd $HOME
wget https://download.geofabrik.de/europe/germany/schleswig-holstein-latest.osm.pbf
osmosis --read-pbf file=schleswig-holstein-latest.osm.pbf --bounding-box left=10.1141 right=10.3716 top=53.7136 bottom=53.6249 --write-pbf file=ahrensburg.pbf

osm2pgsql  -d thorsten --create  -G --hstore  ahrensburg.pbf
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            




  


<h4>Cookie-Zustimmung</h4>
<p>Wir verwenden Cookies, um Ihre Besuche und Präferenzen zu erkennen und die Effektivität unserer Dokumentation zu messen.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Akzeptieren</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Einstellungen</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "In Zwischenablage kopiert", "clipboard.copy": "In Zwischenablage kopieren", "search.result.more.one": "1 weiteres Suchergebnis auf dieser Seite", "search.result.more.other": "# weitere Suchergebnisse auf dieser Seite", "search.result.none": "Keine Suchergebnisse", "search.result.one": "1 Suchergebnis", "search.result.other": "# Suchergebnisse", "search.result.placeholder": "Suchbegriff eingeben", "search.result.term.missing": "Es fehlt", "select.version": "Version ausw\u00e4hlen"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>